(function(){"use strict";try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode("button.ce-inline-tool:disabled{color:#999;fill:#999;background:#fff}")),document.head.appendChild(e)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}})();
(function(e,i){typeof exports=="object"&&typeof module<"u"?module.exports=i():typeof define=="function"&&define.amd?define(i):(e=typeof globalThis<"u"?globalThis:e||self,e.ClearFormatting=i())})(this,function(){"use strict";var h=Object.defineProperty;var g=(e,i,o)=>i in e?h(e,i,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[i]=o;var l=(e,i,o)=>(g(e,typeof i!="symbol"?i+"":i,o),o);class e{static hasFormatting(t){if(t===void 0)return!1;let n=window.getSelection();if(n.rangeCount===0)return!1;let r=n.getRangeAt(0);if(r.cloneContents().children.length)return!0;let s=r.commonAncestorContainer;return s.nodeType===Node.TEXT_NODE&&(s=s.parentElement),s!==t}static clearFormatting(){let t=window.getSelection(),n=t.getRangeAt(0),u=n.cloneRange().extractContents().textContent,d=document.createTextNode(u);n.deleteContents(),n.insertNode(d),t.removeAllRanges(),t.addRange(n)}static findBlock(t){let n=t.anchorNode;return n.nodeType===Node.TEXT_NODE?n.parentElement.closest(".cdx-block"):n.closest(".cdx-block")}}const i="",o={clearFormatting:"Clear formatting within selection"};class c{constructor({config:t,api:n}){l(this,"config",{shortcut:null,closeOnClick:!1,icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.7,7h3.1M17.1,9l.7-1.8c0-.1,0-.2-.1-.2h-3.8M11.1,14.6l-.9,2.4M13.8,7l-.7,2M10.2,17h-2M10.2,17h2"/><line x1="7" x2="17.8" y1="7" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>'});l(this,"state",!1);l(this,"block",null);this.api=n,this.config={...this.config,...t}}static get isInline(){return!0}static get sanitize(){}get title(){return this.api.i18n.t(o.clearFormatting)}get shortcut(){if(this.config.shortcut!==null)return this.config.shortcut}render(){return this.button=document.createElement("button"),this.button.type="button",this.button.innerHTML=this.config.icon,this.button.classList.add(this.api.styles.inlineToolButton),this.button}surround(t){t&&(e.clearFormatting(),this.config.closeOnClick&&this.api.inlineToolbar.close())}async checkState(t){this.block=e.findBlock(t),this.updateState(),this.block.addEventListener("input",this.updateState)}updateState(){this.api===void 0||this.button===void 0||(this.state=e.hasFormatting(this.block),this.button.disabled=!this.state,this.button.classList.toggle(this.api.styles.inlineToolButtonActive,this.state))}clear(){this.block.removeEventListener("input",this.updateState)}}return c});
